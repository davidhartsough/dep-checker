(this["webpackJsonpdep-checker"]=this["webpackJsonpdep-checker"]||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(15)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(5),c=n.n(r),i=(n(12),n(13),n(1)),u=n(6);function o(e,t){var n=t||Object.keys(e),a=e;return Object.entries(e).forEach((function(t){var l=Object(i.a)(t,2);!function t(l,r){r.forEach((function(r){if(r!==l){a[l].includes(r)||a[l].push(r);var c=n.indexOf(r);if(c>=0){var i=e[n[c]].filter((function(e){return!a[l].includes(e)}));i.length>0&&t(l,i)}}}))}(l[0],l[1])})),a}function s(e){var t,n=function(e){var t=e.map((function(e){return e.substring(0,e.indexOf(" "))}));if(new Set(t).size!==t.length)throw Error("Invalid dependency data: There is a duplicate library dependency listing.");return t}(e),a=o(function(e){var t={};return e.forEach((function(e){var n=e.split(" ");if(t[n[0]]=Object(u.a)(new Set(n.slice(3))),t[n[0]].includes(n[0]))throw Error("Invalid dependency data: A library depends on itself.")})),t}(e),n);return t=a,Object.entries(t).map((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1];return"".concat(n," depends on ").concat(a.join(" "))})).join("\n")}var d=/^[A-Za-z_$@][A-Za-z0-9@$_-]* depends on [A-Za-z_$@][A-Za-z0-9@$ _-]*$/;function m(e){var t=function(e){if(!e.includes(" depends on "))throw Error("Invalid input: No dependencies listed.");var t=e.split(/\r?\n/).map((function(e){return e.replace(/\s+/g," ").trim()})).filter((function(e){return d.test(e)}));if(t.length<1)throw Error("Invalid input: Please check the dependency list formatting.");return t}(e),n=s(t);return{input:t.join("\n"),output:n}}function p(e){return new Promise((function(t,n){(function(e){return new Promise((function(t,n){if("function"===typeof e.text)return e.text().then(t).catch(n);var a=new FileReader;a.onload=function(e){var n=e.target;return t(n.result)},a.onerror=function(){return n(a.error.message)},a.readAsText(e)}))})(e).then((function(e){try{var a=m(e);t(a)}catch(r){var l=r.message;n(l)}})).catch(n)}))}n(14);function f(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),u=Object(i.a)(c,2),o=u[0],s=u[1],d=Object(a.useState)(null),f=Object(i.a)(d,2),E=f[0],h=f[1],b=Object(a.useState)(""),v=Object(i.a)(b,2),g=v[0],y=v[1],O=Object(a.useState)(!1),j=Object(i.a)(O,2),x=j[0],w=j[1],N=Object(a.useRef)(null);function k(){r(null),s(null),h(null),w(!0)}function S(e){r(e.input),s(e.output),w(!1)}function A(e){h(e),w(!1)}return l.a.createElement(l.a.Fragment,null,l.a.createElement("header",null,l.a.createElement("h1",null,"dep-checker"),l.a.createElement("h2",null,"library dependency analysis")),l.a.createElement("div",{className:"sections"},l.a.createElement("section",null,l.a.createElement("h3",null,"Introduction"),l.a.createElement("p",null,"Given a text input, this program will list all of the libraries involved and their dependencies."),l.a.createElement("div",{className:"examples"},l.a.createElement("div",{className:"example"},l.a.createElement("p",null,"For example, if an input text files reads:"),l.a.createElement("pre",null,"X depends on Y R\nY depends on Z")),l.a.createElement("div",{className:"example"},l.a.createElement("p",null,"Then the expected output would be:"),l.a.createElement("pre",null,"X depends on Y R Z\nY depends on Z"))),l.a.createElement("p",null,"Each line must follow this format. Any library or dependency must be alphanumeric but can contain the symbols: ",l.a.createElement("code",null,"$"),","," ",l.a.createElement("code",null,"@"),", ",l.a.createElement("code",null,"_"),", or ",l.a.createElement("code",null,"-"),". Also, library names cannot begin with a number."),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("a",{href:"./input.txt",target:"_blank"},"View the sample text file")),l.a.createElement("li",null,l.a.createElement("a",{href:"https://github.com/davidhartsough/dep-checker",target:"_blank",rel:"noopener noreferrer"},"View the source code on GitHub")))),l.a.createElement("section",null,l.a.createElement("h3",null,"Test it out"),l.a.createElement("div",{className:"forms"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),k();var t=N.current.files[0];if(!t)return A("Whoops. Please upload a text file.");p(t).then(S).catch(A)},className:"form"},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Upload a text file"),l.a.createElement("div",{className:"file-upload-wrapper"},l.a.createElement("input",{type:"file",accept:".txt",ref:N,size:"40",className:"file-upload"})),l.a.createElement("button",{type:"submit"},"Submit"))),l.a.createElement("p",{className:"divider"},"Or"),l.a.createElement("div",{className:"form"},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Enter library dependencies"),l.a.createElement("textarea",{wrap:"hard",value:g,placeholder:"A depends on B C\nB depends on C E\nC depends on G\nD depends on A F\nE depends on F\nF depends on H",onChange:function(e){var t=e.target;return y(t.value)}}),l.a.createElement("button",{onClick:function(){if(k(),g.length<14)return A("Whoops. You need to enter at least one dependency listing in the text area field.");try{S(m(g))}catch(e){A(e.message)}}},"Submit")))))),l.a.createElement("footer",null,x?l.a.createElement("div",{className:"loader"}):l.a.createElement(l.a.Fragment,null,n&&l.a.createElement("section",null,l.a.createElement("h3",null,"Input"),l.a.createElement("pre",null,n)),o&&l.a.createElement("section",null,l.a.createElement("h3",null,"Output"),l.a.createElement("pre",null,o)),E&&l.a.createElement("section",null,l.a.createElement("p",{className:"error"},E)))))}c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(f,null)),document.getElementById("root"))}],[[7,1,2]]]);
//# sourceMappingURL=main.e8a95432.chunk.js.map